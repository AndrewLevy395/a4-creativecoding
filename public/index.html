<!DOCTYPE html>
<html lang="en">
  <head>
    <title>CS4241 Assignment 4 - Creative Coding</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/108/three.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="styles.css" />
  </head>
  <body>
    <h1>Planetarium</h1>

    <div id="myModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <p>
          Interactions: <br /><br />Press (P) to pause and unpause. <br />
          Control camera with (WASD). <br />
          Zoom in (Z) and out (B) for closer view. <br />
          Increase (N) and decrease (M) size of canvas of the render. <br />
          Increase (F) and decrease (G) brightness. <br />
          Click on any planet's name to view that planet's diameter.<br /><br />
          Press i to view this screen at any point.
        </p>
      </div>
    </div>

    <div id="name" class="flex-container">
      <button
        id="Sun"
        style="background-color: #fcd925;"
        onclick="planetSelect('Sun')"
      >
        Sun
      </button>
      <button
        id="Mercury"
        style="background-color: #848984;"
        onclick="planetSelect('Mercury')"
      >
        Mercury
      </button>
      <button
        id="Venus"
        style="background-color: #fdf3c0;"
        onclick="planetSelect('Venus')"
      >
        Venus
      </button>
      <button
        id="Earth"
        style="background-color: #0eaf04;"
        onclick="planetSelect('Earth')"
      >
        Earth
      </button>
      <button
        id="Mars"
        style="background-color: #f92f09;"
        onclick="planetSelect('Mars')"
      >
        Mars
      </button>
      <button
        id="Jupiter"
        style="background-color: #fc843e;"
        onclick="planetSelect('Jupiter')"
      >
        Jupiter
      </button>
      <button
        id="Saturn"
        style="background-color: #fbc753;"
        onclick="planetSelect('Saturn')"
      >
        Saturn
      </button>
      <button
        id="Uranus"
        style="background-color: #94cafc;"
        onclick="planetSelect('Uranus')"
      >
        Uranus
      </button>
      <button
        id="Neptune"
        style="background-color: #3544fa;"
        onclick="planetSelect('Neptune')"
      >
        Neptune
      </button>
    </div>
    <div id="test"></div>
    <div id="selected"></div>
    <div id="facts"></div>
    <div id="bottom" class="flex-container">
      <button id="pause">Pause (P)</button>
      <button id="Control">Control Camera (WASD)</button>
      <button id="Zoom">Zoom in/out (Z/B)</button>
      <button id="Zoom">Increase render size (N/M)</button>
      <button id="Bright">Brightness +/- (F/G)</button>
      <button id="Facts">Click planet name for diameter</button>
    </div>

    <script>
      let selected, selectedplanet;
      function planetSelect(planet) {
        selected = document.getElementById("selected");
        facts = document.getElementById("facts");

        selectedplanet = document.getElementById(planet);
        console.log(selectedplanet.id);
        selected.innerHTML = planet;
        if (selectedplanet.id === "Sun") {
          facts.innerHTML = "Diameter - 864,340 miles";
        } else if (selectedplanet.id === "Mercury") {
          facts.innerHTML = "Diameter - 3,031 miles";
        } else if (selectedplanet.id === "Venus") {
          facts.innerHTML = "Diameter - 7,521 miles";
        } else if (selectedplanet.id === "Earth") {
          facts.innerHTML = "Diameter - 7,926 miles";
        } else if (selectedplanet.id === "Mars") {
          facts.innerHTML = "Diameter - 4,222 miles";
        } else if (selectedplanet.id === "Jupiter") {
          facts.innerHTML = "Diameter - 88,846 miles";
        } else if (selectedplanet.id === "Saturn") {
          facts.innerHTML = "Diameter - 74,900 miles";
        } else if (selectedplanet.id === "Uranus") {
          facts.innerHTML = "Diameter - 31,763 miles";
        } else if (selectedplanet.id === "Neptune") {
          facts.innerHTML = "Diameter - 30,779 miles";
        }
        selected.style.color = selectedplanet.style.backgroundColor;
        facts.style.color = selectedplanet.style.backgroundColor;
      }

      let pressed = true;

      let scene = new THREE.Scene();

      let camera = new THREE.PerspectiveCamera();
      camera.position.z = 50;

      let renderer = new THREE.WebGLRenderer();
      let length;
      if (window.innerWidth >= window.innerHeight) {
        length = window.innerHeight - 100;
      } else {
        length = window.innerWidth - 100;
      }

      renderer.setSize(length, length);

      document.querySelector("#test").appendChild(renderer.domElement);

      const pointLight = new THREE.PointLight(0xffffff);
      pointLight.position.z = 1000;

      scene.add(pointLight);

      //create sun
      let sunsize = 3.5;
      let sungeo = new THREE.SphereGeometry(sunsize, 50, 50);
      let sunmat = new THREE.MeshPhongMaterial({
        color: 0xfcd925,
        shininess: 2000
      });
      let sun = new THREE.Mesh(sungeo, sunmat);

      scene.add(sun);

      //create mercury
      let mersize = 0.5;
      let mergeo = new THREE.SphereGeometry(mersize, 50, 50);
      let mermat = new THREE.MeshPhongMaterial({
        color: 0x848984,
        shininess: 2000
      });
      let mercury = new THREE.Mesh(mergeo, mermat);
      mercury.position.set(-10, 0, -10);
      scene.add(mercury);

      //create venus
      let vensize = 0.9;
      let vengeo = new THREE.SphereGeometry(vensize, 50, 50);
      let venmat = new THREE.MeshPhongMaterial({
        color: 0xfdf3c0,
        shininess: 2000
      });
      let venus = new THREE.Mesh(vengeo, venmat);
      venus.position.set(12, 0, 12);
      scene.add(venus);

      //create earth
      let earsize = 1;
      let eargeo = new THREE.SphereGeometry(earsize, 50, 50);
      let earmat = new THREE.MeshPhongMaterial({
        color: 0x0eaf04,
        shininess: 2000
      });
      let earth = new THREE.Mesh(eargeo, earmat);
      earth.position.set(-12, 0, -12);
      scene.add(earth);

      //create mars
      const margeo = new THREE.SphereGeometry(0.8, 50, 50);
      const marmat = new THREE.MeshPhongMaterial({
        color: 0xf92f09,
        shininess: 2000
      });
      const mars = new THREE.Mesh(margeo, marmat);
      mars.position.set(13, 0, 13);
      scene.add(mars);

      //create jupiter
      const jupgeo = new THREE.SphereGeometry(2.5, 50, 50);
      const jupmat = new THREE.MeshPhongMaterial({
        color: 0xfc843e,
        shininess: 2000
      });
      const jupiter = new THREE.Mesh(jupgeo, jupmat);
      jupiter.position.set(14, 0, 14);
      scene.add(jupiter);

      //create saturn
      const satgeo = new THREE.SphereGeometry(1.75, 50, 50);
      const satmat = new THREE.MeshPhongMaterial({
        color: 0xfbc753,
        shininess: 2000
      });
      const saturn = new THREE.Mesh(satgeo, satmat);
      saturn.position.set(15, 0, 15);
      scene.add(saturn);

      var ringgeo = new THREE.RingGeometry(1.8, 3, 50);
      var ringmat = new THREE.MeshBasicMaterial({
        color: 0xfbc753,
        side: THREE.DoubleSide
      });
      var ring = new THREE.Mesh(ringgeo, ringmat);
      ring.position.set(15, 0, 15);
      ring.rotation.x += 2;
      scene.add(ring);

      //create uranus
      const urageo = new THREE.SphereGeometry(1.1, 50, 50);
      const uramat = new THREE.MeshPhongMaterial({
        color: 0x94cafc,
        shininess: 2000
      });
      const uranus = new THREE.Mesh(urageo, uramat);
      uranus.position.set(15, 0, 15);
      scene.add(uranus);

      //create uranus
      const nepgeo = new THREE.SphereGeometry(1.1, 50, 50);
      const nepmat = new THREE.MeshPhongMaterial({
        color: 0x3544fa,
        shininess: 2000
      });
      const neptune = new THREE.Mesh(nepgeo, nepmat);
      neptune.position.set(16, 0, 16);
      scene.add(neptune);

      //this.render = this.render.bind(this);

      function render() {
        if (pressed === true) {
          requestAnimationFrame(render);
        }
        sun.rotation.x += 0.025;
        var elapsed = Date.now() * 0.0005;

        //mercury position
        mercury.rotation.x += 0.025;
        mercury.position.x = Math.sin(elapsed * 4.5) * 4;
        mercury.position.y = Math.sin(elapsed * 4.5) * 2;
        mercury.position.z = Math.cos(elapsed * 4.5) * 4;

        //venus position
        venus.rotation.x += 0.025;
        venus.position.x = Math.sin(elapsed * 2.5) * 7;
        venus.position.y = Math.cos(elapsed * 2.5) * 2;
        venus.position.z = Math.cos(elapsed * 2.5) * 7;

        //earth position
        earth.rotation.x += 0.025;
        earth.position.x = Math.sin(elapsed * 2) * 10;
        earth.position.z = Math.cos(elapsed * 2) * 10;

        //mars position
        mars.rotation.x += 0.025;
        mars.position.x = Math.sin(elapsed * 1.9) * 11;
        mars.position.y = Math.sin(elapsed * 1.9) * 4;
        mars.position.z = Math.cos(elapsed * 1.9) * 11;

        //Jupiter position
        jupiter.rotation.x += 0.025;
        jupiter.position.x = Math.sin(elapsed * 1.75) * 13;
        jupiter.position.y = Math.cos(elapsed * 1.75) * 5;
        jupiter.position.z = Math.cos(elapsed * 1.75) * 13;

        //Saturn position
        saturn.rotation.x += 0.025;
        saturn.position.x = Math.sin(elapsed * 1.5) * 14;
        saturn.position.y = Math.sin(elapsed * 1.5) * 3;
        saturn.position.z = Math.cos(elapsed * 1.5) * 14;
        //ring.rotation.y += 0.0025;
        ring.position.x = Math.sin(elapsed * 1.5) * 14;
        ring.position.y = Math.sin(elapsed * 1.5) * 3;
        ring.position.z = Math.cos(elapsed * 1.5) * 14;

        //Uranus position
        uranus.rotation.x += 0.025;
        uranus.position.x = Math.sin(elapsed * 1) * 16;
        uranus.position.y = Math.cos(elapsed * 1) * 3;
        uranus.position.z = Math.cos(elapsed * 1) * 16;

        //Neptune position
        neptune.rotation.x += 0.025;
        neptune.position.x = Math.sin(elapsed * 0.75) * 20;
        neptune.position.y = Math.sin(elapsed * 0.75) * 2;
        neptune.position.z = Math.cos(elapsed * 0.75) * 20;

        renderer.render(scene, camera);
      }

      render();

      $("document").keydown(function(e) {
        if (e.which == 80) {
          pressed = !pressed;
        } else if (e.which == 87) {
          camera.position.y -= 1;
        } else if (e.which == 65) {
          camera.position.x += 1;
        } else if (e.which == 83) {
          camera.position.y += 1;
        } else if (e.which == 68) {
          camera.position.x -= 1;
        } else if (e.which == 90) {
          camera.position.z -= 1;
        } else if (e.which == 66) {
          camera.position.z += 1;
        } else if (e.which == 70) {
          pointLight.power += 2.5;
        } else if (e.which == 71) {
          pointLight.power -= 2.5;
        } else if (e.which == 78) {
          length += 10;
          renderer.setSize(length, length);
        } else if (e.which == 77) {
          length -= 10;
          renderer.setSize(length, length);
        } else if (e.which == 73) {
          modal.style.display = "block";
        }
        render();
      });

      var modal = document.getElementById("myModal");
      var span = document.getElementsByClassName("close")[0];

      modal.style.display = "block";

      span.onclick = function() {
        modal.style.display = "none";
      };
    </script>
  </body>
</html>
